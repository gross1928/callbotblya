# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ - —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ö–ë–ñ–£

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç?

**–ü—Ä–æ–±–ª–µ–º–∞:** AI –∏–Ω–æ–≥–¥–∞ "–≥–∞–ª–ª—é—Ü–∏–Ω–∏—Ä—É–µ—Ç" —Å —Ü–∏—Ñ—Ä–∞–º–∏ –ö–ë–ñ–£, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –±–µ–ª–∫–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:** –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:
- ü§ñ **AI** —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –≤–µ—Å –∏–∑ —Ñ–æ—Ç–æ/—Ç–µ–∫—Å—Ç–∞
- üìä **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (700+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ—á–Ω—ã–µ –ö–ë–ñ–£
- ‚ö° **–†–∞—Å—á–µ—Ç** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–≤–µ—Å √ó –ö–ë–ñ–£/100–≥)
- üîÑ **Fallback** –Ω–∞ AI –æ—Ü–µ–Ω–∫—É, –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ë–î

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å** - —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ AI –æ—Ü–µ–Ω–æ–∫  
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - –Ω–∞ 30% –±—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ —Ä–∞–±–æ—Ç—ã –¥–ª—è AI)  
‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è** - –Ω–∞ 30-50% –º–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –ø–æ–∏—Å–∫ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ (fuzzy matching)  
‚úÖ **700+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤** - –ø–æ–ª–Ω–∞—è –±–∞–∑–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤  

## üì¶ –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –±–∞–∑—É

- üçû –•–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ, –º—É–∫–∞, –∫—Ä—É–ø—ã, –±–æ–±–æ–≤—ã–µ (100+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- ü•õ –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- üçñ –ú—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –ø—Ç–∏—Ü–∞ (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- ü•ì –ö–æ–ª–±–∞—Å–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è (30+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- üêü –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã (150+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- ü•ö –Ø–π—Ü–µ–ø—Ä–æ–¥—É–∫—Ç—ã
- üßà –ú–∞—Å–ª–∞ –∏ –∂–∏—Ä—ã
- ü•ï –û–≤–æ—â–∏, –∑–µ–ª–µ–Ω—å, –≥—Ä–∏–±—ã (100+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- üçé –§—Ä—É–∫—Ç—ã –∏ —è–≥–æ–¥—ã (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- ü•ú –û—Ä–µ—Ö–∏, —Å–µ–º–µ–Ω–∞, —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- üç∞ –°–ª–∞–¥–∫–æ–µ –∏ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ –∏–∑–¥–µ–ª–∏—è (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
- üßÉ –ù–∞–ø–∏—Ç–∫–∏ (50+ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
psql -U your_username -d your_database -f database/migrations/005_add_products_database.sql

# –ò–ª–∏ —á–µ—Ä–µ–∑ Railway
railway run psql < database/migrations/005_add_products_database.sql
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ

```bash
npm run import-products
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
üöÄ Starting product import...
üìÅ Category: –•–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è, –º—É–∫–∞, –∫—Ä—É–ø—ã, –±–æ–±–æ–≤—ã–µ
...
‚úÖ Parsed 712 products
üíæ Inserting products into database...
  Inserted 100/712...
  Inserted 200/712...
  ...
‚úÖ Import complete!
   Inserted: 712
   Failed: 0

üìä Products by category:
   –•–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è: 45
   –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã: 39
   ...
```

### 4. –í–∫–ª—é—á–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ë–î

–í `.env` —Ñ–∞–π–ª–µ –¥–æ–±–∞–≤—å—Ç–µ:
```env
USE_PRODUCTS_DATABASE=true
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
npm run dev  # –ª–æ–∫–∞–ª—å–Ω–æ
# –∏–ª–∏
railway up   # –Ω–∞ Railway
```

## üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏–º–µ—Ä: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏–ª —Ñ–æ—Ç–æ —è–∏—á–Ω–∏—Ü—ã

#### –®–∞–≥ 1: AI —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
```json
{
  "dish_name": "–Ø–∏—á–Ω–∏—Ü–∞ —Å —Ç–æ—Å—Ç–∞–º–∏",
  "ingredients": [
    {"product": "—è–π—Ü–æ –∫—É—Ä–∏–Ω–æ–µ", "weight": 100},
    {"product": "—Ö–ª–µ–± –ø—à–µ–Ω–∏—á–Ω—ã–π", "weight": 60},
    {"product": "–º–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ", "weight": 5}
  ]
}
```

#### –®–∞–≥ 2: –ü–æ–∏—Å–∫ –≤ –ë–î (fuzzy matching)
```
"—è–π—Ü–æ –∫—É—Ä–∏–Ω–æ–µ" ‚Üí üéØ "–Ø–π—Ü–æ –∫—É—Ä–∏–Ω–æ–µ" (similarity: 1.0)
  –ë–î: 12.7–≥ –±–µ–ª–∫–∞, 11.5–≥ –∂–∏—Ä–∞, 0.7–≥ —É–≥–ª–µ–≤–æ–¥–æ–≤, 157 –∫–∫–∞–ª –Ω–∞ 100–≥
  
"—Ö–ª–µ–± –ø—à–µ–Ω–∏—á–Ω—ã–π" ‚Üí üéØ "–•–ª–µ–± –ø—à–µ–Ω–∏—á–Ω—ã–π –∏–∑ –º—É–∫–∏ –≤—ã—Å—à–µ–≥–æ —Å–æ—Ä—Ç–∞" (similarity: 0.85)
  –ë–î: 7.6–≥ –±–µ–ª–∫–∞, 0.9–≥ –∂–∏—Ä–∞, 49.7–≥ —É–≥–ª–µ–≤–æ–¥–æ–≤, 226 –∫–∫–∞–ª –Ω–∞ 100–≥
  
"–º–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ" ‚Üí üéØ "–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ" (similarity: 1.0)
  –ë–î: 0.5–≥ –±–µ–ª–∫–∞, 82.5–≥ –∂–∏—Ä–∞, 0.8–≥ —É–≥–ª–µ–≤–æ–¥–æ–≤, 748 –∫–∫–∞–ª –Ω–∞ 100–≥
```

#### –®–∞–≥ 3: –†–∞—Å—á–µ—Ç –ö–ë–ñ–£

```
–Ø–π—Ü–æ 100–≥:
  –ë–µ–ª–∫–∏: 12.7 √ó 1 = 12.7–≥
  –ñ–∏—Ä—ã: 11.5 √ó 1 = 11.5–≥
  –£–≥–ª–µ–≤–æ–¥—ã: 0.7 √ó 1 = 0.7–≥
  –ö–∞–ª–æ—Ä–∏–∏: 157 –∫–∫–∞–ª

–•–ª–µ–± 60–≥:
  –ë–µ–ª–∫–∏: 7.6 √ó 0.6 = 4.6–≥
  –ñ–∏—Ä—ã: 0.9 √ó 0.6 = 0.5–≥
  –£–≥–ª–µ–≤–æ–¥—ã: 49.7 √ó 0.6 = 29.8–≥
  –ö–∞–ª–æ—Ä–∏–∏: 226 √ó 0.6 = 136 –∫–∫–∞–ª

–ú–∞—Å–ª–æ 5–≥:
  –ë–µ–ª–∫–∏: 0.5 √ó 0.05 = 0.03–≥
  –ñ–∏—Ä—ã: 82.5 √ó 0.05 = 4.1–≥
  –£–≥–ª–µ–≤–æ–¥—ã: 0.8 √ó 0.05 = 0.04–≥
  –ö–∞–ª–æ—Ä–∏–∏: 748 √ó 0.05 = 37 –∫–∫–∞–ª

–ò–¢–û–ì–û (165–≥):
  –ë–µ–ª–∫–∏: 17.3–≥ ‚úÖ
  –ñ–∏—Ä—ã: 16.1–≥ ‚úÖ
  –£–≥–ª–µ–≤–æ–¥—ã: 30.5–≥ ‚úÖ
  –ö–∞–ª–æ—Ä–∏–∏: 330 –∫–∫–∞–ª ‚úÖ
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
```sql
SELECT COUNT(*) FROM products_nutrition;
-- –û–∂–∏–¥–∞–µ—Ç—Å—è: 700+
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞
```sql
SELECT name, category, similarity(name_normalized, '–∫—É—Ä–∏—Ü–∞') as sim
FROM products_nutrition
WHERE similarity(name_normalized, '–∫—É—Ä–∏—Ü–∞') > 0.3
ORDER BY sim DESC
LIMIT 5;
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
```sql
SELECT category, COUNT(*) as count 
FROM products_nutrition 
GROUP BY category 
ORDER BY count DESC;
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
```sql
INSERT INTO products_nutrition (name, name_normalized, category, protein, fat, carbs, calories)
VALUES 
  ('–ü—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –±–∞—Ç–æ–Ω—á–∏–∫ Quest', '–ø—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –±–∞—Ç–æ–Ω—á–∏–∫ quest', '–°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ', 20, 6, 21, 200);
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–æ–ª—å–∫–æ AI | –° –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö |
|----------|-----------|----------------|
| –¢–æ—á–Ω–æ—Å—Ç—å –ö–ë–ñ–£ | ¬±15-30% | ¬±2-5% |
| –°–∫–æ—Ä–æ—Å—Ç—å | 3-5 —Å–µ–∫ | 2-3 —Å–µ–∫ |
| –¢–æ–∫–µ–Ω—ã | 1000-1500 | 500-800 |
| –°—Ç–æ–∏–º–æ—Å—Ç—å/–∑–∞–ø—Ä–æ—Å | $0.002 | $0.001 |
| –†–∞–±–æ—Ç–∞ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ | ‚ùå | ‚úÖ |
| –û—Ñ–ª–∞–π–Ω —Ä–∞—Å—á–µ—Ç | ‚ùå | ‚úÖ (–ø–æ—Å–ª–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è) |

## ‚ùì FAQ

### Q: –ß—Ç–æ –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ—Ç –≤ –±–∞–∑–µ?
**A:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI –æ—Ü–µ–Ω–∫—É. –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ - —Ç–æ—á–Ω–µ–µ.

### Q: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å –≥–æ—Ç–æ–≤—ã–º–∏ –±–ª—é–¥–∞–º–∏?
**A:** –î–∞! AI —Ä–∞–∑–±–∏–≤–∞–µ—Ç –±–ª—é–¥–æ –Ω–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –∫–∞–∂–¥—ã–π –∏—â–µ—Ç—Å—è –≤ –ë–î –æ—Ç–¥–µ–ª—å–Ω–æ.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö?
**A:** –î–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `USE_PRODUCTS_DATABASE=false` –≤ `.env` –∏ —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è –∫ —á–∏—Å—Ç–æ–º—É AI –º–µ—Ç–æ–¥—É.

### Q: –°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –ë–î?
**A:** ~500KB –¥–ª—è 700 –ø—Ä–æ–¥—É–∫—Ç–æ–≤. –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä –ë–î.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?
**A:** –î–∞, –ø—Ä–æ—Å—Ç–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `tablica_caloriynosti.md` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `npm run import-products` —Å–Ω–æ–≤–∞.

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –±–∞–∑—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤:
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å –ö–ë–ñ–£ –≤—ã—Ä–æ—Å–ª–∞ —Å 70-85% –¥–æ 95-98%
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ —É–º–µ–Ω—å—à–∏–ª–∞—Å—å –Ω–∞ 30%
- ‚úÖ –ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ OpenAI —Å–Ω–∏–∑–∏–ª–∏—Å—å –Ω–∞ 40%
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç–∞–ª–∏ –¥–æ–≤–µ—Ä—è—Ç—å —Ü–∏—Ñ—Ä–∞–º –±–æ–ª—å—à–µ

## üìù –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- "–•–∏–º–∏—á–µ—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø–∏—â–µ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤" (–ò.–ú. –°–∫—É—Ä–∏—Ö–∏–Ω, –í.–ê. –¢—É—Ç–µ–ª—å—è–Ω, 2002)
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –ª–µ—á–µ–±–Ω–æ–º—É –ø–∏—Ç–∞–Ω–∏—é (–ë.–õ. –°–º–æ–ª—è–Ω—Å–∫–∏–π, –ñ.–ò. –ê–±—Ä–∞–º–æ–≤–∞, 1984)
- –î–∞–Ω–Ω—ã–µ USDA (–î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç —Å–µ–ª—å—Å–∫–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞ –°–®–ê)

